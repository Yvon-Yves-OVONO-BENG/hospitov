{% extends 'base.html.twig' %}

{% block title %}
    {% if slug == 0 %}
        {% trans %}Ajouter une consultation{% endtrans %}
        {% else %}
        {% trans %}Enregistrement d'une consultation{% endtrans %}
    {% endif %}    
{% endblock %}

{% block body %}
    <!-- Row starts -->
    <div class="row gx-3">
			
        <div class="col-sm-12  mb-5">
            <div class="card">
                <div class="card-header d-flex align-items-center justify-content-between">
                    <h3 class="card-title">
                        {% if slug == 0 %}
                            <i class="fa fa-stethoscope  me-2"></i>
                            {% trans %}Ajouter une consultation{% endtrans %}
                            {% else %}
                            <i class="fa fa-stethoscope  me-2"></i>
                            {% trans %}Consultation : {% endtrans %} <span class="tag tag-red">{{ consultation.parametresVitaux.billetDeSession.patient.code }} - {{ consultation.parametresVitaux.billetDeSession.patient.nom }}</span>
                        {% endif %}
                    </h3>
                </div>
                <div class="card-body ">
                    {{ form_start(formConsultation, {'attr': {'class':'row g-4 needs-validation', 'novalidate':""}})}}
                        <div class="row" style="margin-top: 15px !important;">
                            
                            <div class="col-md-6 position-relative">
                                <label for="validationCustom04" class="form-label">{% trans %}Symptomes{% endtrans %}</label>
                                {{ form_widget(formConsultation.symptomes, {'attr': {'id':'validationCustom04'}}) }}

                                <div class="invalid-feedback">
                                    {% trans %}Veuillez saisir les symtômes !{% endtrans %}
                                </div>
                            </div>

                            <div class="col-md-6 position-relative">
                                <label for="validationCustom04" class="form-label">{% trans %}Diagnostic{% endtrans %}</label>
                                {{ form_widget(formConsultation.diagnostic, {'attr': {'id':'validationCustom04'}}) }}

                                <div class="invalid-feedback">
                                    {% trans %}Veuillez saisir le diagnostic !{% endtrans %}
                                </div>
                            </div>
                            

                        </div>

                        <div class="row" style="margin-top: 15px !important;">
                            
                            <div class="col-md-6 position-relative">
                                <label for="validationCustom04" class="form-label">{% trans %}Médicaments{% endtrans %}</label>
                                {{ form_widget(formConsultation.medicaments, {'attr': {'id':'validationCustom04'}}) }}

                                <div class="invalid-feedback">
                                    {% trans %}Veuillez saisir les symtômes !{% endtrans %}
                                </div>
                            </div>

                            <div class="col-md-6 position-relative">
                                <label for="validationCustom04" class="form-label">{% trans %}Examens{% endtrans %}</label>
                                {{ form_widget(formConsultation.examens, {'attr': {'id':'validationCustom04'}}) }}

                                <div class="invalid-feedback">
                                    {% trans %}Veuillez saisir les examens !{% endtrans %}
                                </div>
                            </div>
                            <input type="hidden" value="{{ csrfToken }}" name="csrfToken">

                        </div>

                        <div class="row" style="margin-top: 15px !important;">
                            
                            <div class="col-md-4 position-relative text-center" style="margin-top: 30px !important;">
                            </div>
                            <div class="col-md-4 position-relative text-center" style="margin-top: 30px !important;">
                                <button type="submit" class="btn btn-outline-primary btn-md">
                                    <i class="ri-save-line me-2"></i>
                                    {% if slug == 0 %}
                                        {% trans %}Enregistrer{% endtrans %}
                                        {% else %}
                                        {% trans %}Enregistrer les modifications{% endtrans %}
                                    {% endif %}
                                </button>
                            </div>
                            <div class="col-md-4 position-relative text-center" style="margin-top: 30px !important;">
                            </div>
                            
                        </div>
                            
                    {{ form_end(formConsultation)}}

                </div>
        </div>
    </div>
</div>
</div>
{% endblock %}
